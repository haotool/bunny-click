7fe8f26abe150c5086399ba095be34b1
"use strict";

/**
 * 整合測試 - Bunny Click 專案
 * 測試主要功能模組的整合
 */

// Jest 全域對象由測試環境提供

// 模擬瀏覽器環境
global.window = {
  addEventListener: jest.fn(),
  removeEventListener: jest.fn(),
  location: {
    href: 'http://localhost:3000'
  },
  localStorage: {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
  },
  sessionStorage: {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
  }
};
global.document = {
  createElement: jest.fn(() => ({
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
    setAttribute: jest.fn(),
    getAttribute: jest.fn(),
    appendChild: jest.fn(),
    removeChild: jest.fn(),
    innerHTML: '',
    textContent: '',
    style: {},
    classList: {
      add: jest.fn(),
      remove: jest.fn(),
      contains: jest.fn()
    }
  })),
  getElementById: jest.fn(),
  querySelector: jest.fn(),
  querySelectorAll: jest.fn(),
  addEventListener: jest.fn(),
  removeEventListener: jest.fn()
};
global.navigator = {
  serviceWorker: {
    register: jest.fn(),
    ready: Promise.resolve()
  },
  onLine: true
};

// 測試套件
describe('Bunny Click 整合測試', () => {
  beforeEach(() => {
    jest.clearAllMocks();
    jest.resetModules();
  });
  describe('PWA 功能整合', () => {
    test('Service Worker 註冊', async () => {
      // 模擬 Service Worker 註冊
      const mockRegister = jest.fn().mockResolvedValue({
        active: {
          state: 'activated'
        },
        installing: null,
        waiting: null
      });
      global.navigator.serviceWorker.register = mockRegister;

      // 這裡可以測試實際的 Service Worker 註冊邏輯
      expect(mockRegister).toBeDefined();
    });
    test('離線功能支援', () => {
      // 測試離線狀態檢測
      global.navigator.onLine = false;
      expect(global.navigator.onLine).toBe(false);
      global.navigator.onLine = true;
      expect(global.navigator.onLine).toBe(true);
    });
  });
  describe('本地儲存整合', () => {
    test('遊戲狀態儲存', () => {
      const mockSetItem = jest.fn();
      const mockGetItem = jest.fn();
      const mockLocalStorage = {
        setItem: mockSetItem,
        getItem: mockGetItem
      };
      global.window.localStorage = mockLocalStorage;
      const gameState = {
        score: 100,
        level: 5
      };

      // 測試儲存
      mockLocalStorage.setItem('gameState', JSON.stringify(gameState));
      expect(mockSetItem).toHaveBeenCalledWith('gameState', JSON.stringify(gameState));

      // 測試讀取
      mockGetItem.mockReturnValue(JSON.stringify(gameState));
      const retrieved = JSON.parse(mockLocalStorage.getItem('gameState'));
      expect(retrieved).toEqual(gameState);
    });
    test('快取清理', () => {
      const mockClear = jest.fn();
      const mockLocalStorage = {
        clear: mockClear
      };
      global.window.localStorage = mockLocalStorage;
      mockLocalStorage.clear();
      expect(mockClear).toHaveBeenCalled();
    });
  });
  describe('DOM 操作整合', () => {
    test('元素創建和操作', () => {
      const mockElement = global.document.createElement('div');
      expect(mockElement).toBeDefined();
      expect(mockElement.addEventListener).toBeDefined();
      expect(mockElement.setAttribute).toBeDefined();
    });
    test('事件監聽器管理', () => {
      const mockAddEventListener = jest.fn();
      const mockRemoveEventListener = jest.fn();
      const mockElement = {
        addEventListener: mockAddEventListener,
        removeEventListener: mockRemoveEventListener
      };
      const mockHandler = jest.fn();
      mockElement.addEventListener('click', mockHandler);
      expect(mockAddEventListener).toHaveBeenCalledWith('click', mockHandler);
      mockElement.removeEventListener('click', mockHandler);
      expect(mockRemoveEventListener).toHaveBeenCalledWith('click', mockHandler);
    });
  });
  describe('效能監控整合', () => {
    beforeEach(() => {
      // 確保每次測試前都有正確的 Performance API mock
      global.performance = {
        now: jest.fn(() => Date.now()),
        mark: jest.fn(),
        measure: jest.fn(),
        getEntriesByType: jest.fn(() => []),
        memory: {
          usedJSHeapSize: 10 * 1024 * 1024,
          totalJSHeapSize: 20 * 1024 * 1024,
          jsHeapSizeLimit: 100 * 1024 * 1024
        }
      };
    });
    test('效能指標收集', () => {
      // 驗證 Performance API 可用性
      expect(global.performance.now).toBeDefined();
      expect(global.performance.mark).toBeDefined();
      expect(global.performance.measure).toBeDefined();
    });
  });
  describe('錯誤處理整合', () => {
    test('全域錯誤處理', () => {
      const mockErrorHandler = jest.fn();
      const mockAddEventListener = jest.fn();
      global.window.addEventListener = mockAddEventListener;

      // 模擬錯誤事件監聽器
      global.window.addEventListener('error', mockErrorHandler);
      expect(mockAddEventListener).toHaveBeenCalledWith('error', mockErrorHandler);

      // 模擬未處理的 Promise 拒絕
      global.window.addEventListener('unhandledrejection', mockErrorHandler);
      expect(mockAddEventListener).toHaveBeenCalledWith('unhandledrejection', mockErrorHandler);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnbG9iYWwiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiamVzdCIsImZuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxvY2F0aW9uIiwiaHJlZiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwic2Vzc2lvblN0b3JhZ2UiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvbnRhaW5zIiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlYWR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbkxpbmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwicmVzZXRNb2R1bGVzIiwidGVzdCIsIm1vY2tSZWdpc3RlciIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiYWN0aXZlIiwic3RhdGUiLCJpbnN0YWxsaW5nIiwid2FpdGluZyIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwidG9CZSIsIm1vY2tTZXRJdGVtIiwibW9ja0dldEl0ZW0iLCJtb2NrTG9jYWxTdG9yYWdlIiwiZ2FtZVN0YXRlIiwic2NvcmUiLCJsZXZlbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tSZXR1cm5WYWx1ZSIsInJldHJpZXZlZCIsInBhcnNlIiwidG9FcXVhbCIsIm1vY2tDbGVhciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtb2NrRWxlbWVudCIsIm1vY2tBZGRFdmVudExpc3RlbmVyIiwibW9ja1JlbW92ZUV2ZW50TGlzdGVuZXIiLCJtb2NrSGFuZGxlciIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsIm1hcmsiLCJtZWFzdXJlIiwiZ2V0RW50cmllc0J5VHlwZSIsIm1lbW9yeSIsInVzZWRKU0hlYXBTaXplIiwidG90YWxKU0hlYXBTaXplIiwianNIZWFwU2l6ZUxpbWl0IiwibW9ja0Vycm9ySGFuZGxlciJdLCJzb3VyY2VzIjpbImludGVncmF0aW9uLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmlbTlkIjmuKzoqaYgLSBCdW5ueSBDbGljayDlsIjmoYhcbiAqIOa4rOippuS4u+imgeWKn+iDveaooee1hOeahOaVtOWQiFxuICovXG5cbi8vIEplc3Qg5YWo5Z+f5bCN6LGh55Sx5ris6Kmm55Kw5aKD5o+Q5L6bXG5cbi8vIOaooeaTrOeAj+imveWZqOeSsOWig1xuZ2xvYmFsLndpbmRvdyA9IHtcbiAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gIGxvY2F0aW9uOiB7IGhyZWY6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnIH0sXG4gIGxvY2FsU3RvcmFnZToge1xuICAgIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgIGNsZWFyOiBqZXN0LmZuKCksXG4gIH0sXG4gIHNlc3Npb25TdG9yYWdlOiB7XG4gICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgY2xlYXI6IGplc3QuZm4oKSxcbiAgfSxcbn07XG5cbmdsb2JhbC5kb2N1bWVudCA9IHtcbiAgY3JlYXRlRWxlbWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgc2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgZ2V0QXR0cmlidXRlOiBqZXN0LmZuKCksXG4gICAgYXBwZW5kQ2hpbGQ6IGplc3QuZm4oKSxcbiAgICByZW1vdmVDaGlsZDogamVzdC5mbigpLFxuICAgIGlubmVySFRNTDogJycsXG4gICAgdGV4dENvbnRlbnQ6ICcnLFxuICAgIHN0eWxlOiB7fSxcbiAgICBjbGFzc0xpc3Q6IHtcbiAgICAgIGFkZDogamVzdC5mbigpLFxuICAgICAgcmVtb3ZlOiBqZXN0LmZuKCksXG4gICAgICBjb250YWluczogamVzdC5mbigpLFxuICAgIH0sXG4gIH0pKSxcbiAgZ2V0RWxlbWVudEJ5SWQ6IGplc3QuZm4oKSxcbiAgcXVlcnlTZWxlY3RvcjogamVzdC5mbigpLFxuICBxdWVyeVNlbGVjdG9yQWxsOiBqZXN0LmZuKCksXG4gIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxufTtcblxuZ2xvYmFsLm5hdmlnYXRvciA9IHtcbiAgc2VydmljZVdvcmtlcjoge1xuICAgIHJlZ2lzdGVyOiBqZXN0LmZuKCksXG4gICAgcmVhZHk6IFByb21pc2UucmVzb2x2ZSgpLFxuICB9LFxuICBvbkxpbmU6IHRydWUsXG59O1xuXG4vLyDmuKzoqablpZfku7ZcbmRlc2NyaWJlKCdCdW5ueSBDbGljayDmlbTlkIjmuKzoqaYnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QucmVzZXRNb2R1bGVzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQV0Eg5Yqf6IO95pW05ZCIJywgKCkgPT4ge1xuICAgIHRlc3QoJ1NlcnZpY2UgV29ya2VyIOiou+WGiicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIOaooeaTrCBTZXJ2aWNlIFdvcmtlciDoqLvlhopcbiAgICAgIGNvbnN0IG1vY2tSZWdpc3RlciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGFjdGl2ZTogeyBzdGF0ZTogJ2FjdGl2YXRlZCcgfSxcbiAgICAgICAgaW5zdGFsbGluZzogbnVsbCxcbiAgICAgICAgd2FpdGluZzogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBnbG9iYWwubmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIgPSBtb2NrUmVnaXN0ZXI7XG5cbiAgICAgIC8vIOmAmeijoeWPr+S7pea4rOippuWvpumam+eahCBTZXJ2aWNlIFdvcmtlciDoqLvlhorpgo/ovK9cbiAgICAgIGV4cGVjdChtb2NrUmVnaXN0ZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCfpm6Lnt5rlip/og73mlK/mj7QnLCAoKSA9PiB7XG4gICAgICAvLyDmuKzoqabpm6Lnt5rni4DmhYvmqqLmuKxcbiAgICAgIGdsb2JhbC5uYXZpZ2F0b3Iub25MaW5lID0gZmFsc2U7XG4gICAgICBleHBlY3QoZ2xvYmFsLm5hdmlnYXRvci5vbkxpbmUpLnRvQmUoZmFsc2UpO1xuXG4gICAgICBnbG9iYWwubmF2aWdhdG9yLm9uTGluZSA9IHRydWU7XG4gICAgICBleHBlY3QoZ2xvYmFsLm5hdmlnYXRvci5vbkxpbmUpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfmnKzlnLDlhLLlrZjmlbTlkIgnLCAoKSA9PiB7XG4gICAgdGVzdCgn6YGK5oiy54uA5oWL5YSy5a2YJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NldEl0ZW0gPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBtb2NrR2V0SXRlbSA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IG1vY2tMb2NhbFN0b3JhZ2UgPSB7XG4gICAgICAgIHNldEl0ZW06IG1vY2tTZXRJdGVtLFxuICAgICAgICBnZXRJdGVtOiBtb2NrR2V0SXRlbSxcbiAgICAgIH07XG4gICAgICBnbG9iYWwud2luZG93LmxvY2FsU3RvcmFnZSA9IG1vY2tMb2NhbFN0b3JhZ2U7XG5cbiAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHsgc2NvcmU6IDEwMCwgbGV2ZWw6IDUgfTtcblxuICAgICAgLy8g5ris6Kmm5YSy5a2YXG4gICAgICBtb2NrTG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dhbWVTdGF0ZScsIEpTT04uc3RyaW5naWZ5KGdhbWVTdGF0ZSkpO1xuICAgICAgZXhwZWN0KG1vY2tTZXRJdGVtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZ2FtZVN0YXRlJywgSlNPTi5zdHJpbmdpZnkoZ2FtZVN0YXRlKSk7XG5cbiAgICAgIC8vIOa4rOippuiugOWPllxuICAgICAgbW9ja0dldEl0ZW0ubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KGdhbWVTdGF0ZSkpO1xuICAgICAgY29uc3QgcmV0cmlldmVkID0gSlNPTi5wYXJzZShtb2NrTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dhbWVTdGF0ZScpKTtcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQpLnRvRXF1YWwoZ2FtZVN0YXRlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ+W/q+WPlua4heeQhicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tDbGVhciA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IG1vY2tMb2NhbFN0b3JhZ2UgPSB7XG4gICAgICAgIGNsZWFyOiBtb2NrQ2xlYXIsXG4gICAgICB9O1xuICAgICAgZ2xvYmFsLndpbmRvdy5sb2NhbFN0b3JhZ2UgPSBtb2NrTG9jYWxTdG9yYWdlO1xuXG4gICAgICBtb2NrTG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICBleHBlY3QobW9ja0NsZWFyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdET00g5pON5L2c5pW05ZCIJywgKCkgPT4ge1xuICAgIHRlc3QoJ+WFg+e0oOWJteW7uuWSjOaTjeS9nCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tFbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBleHBlY3QobW9ja0VsZW1lbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobW9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrRWxlbWVudC5zZXRBdHRyaWJ1dGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCfkuovku7bnm6Pogb3lmajnrqHnkIYnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQWRkRXZlbnRMaXN0ZW5lciA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IG1vY2tSZW1vdmVFdmVudExpc3RlbmVyID0gamVzdC5mbigpO1xuICAgICAgY29uc3QgbW9ja0VsZW1lbnQgPSB7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IG1vY2tBZGRFdmVudExpc3RlbmVyLFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lcixcbiAgICAgIH07XG4gICAgICBjb25zdCBtb2NrSGFuZGxlciA9IGplc3QuZm4oKTtcblxuICAgICAgbW9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb2NrSGFuZGxlcik7XG4gICAgICBleHBlY3QobW9ja0FkZEV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjbGljaycsIG1vY2tIYW5kbGVyKTtcblxuICAgICAgbW9ja0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb2NrSGFuZGxlcik7XG4gICAgICBleHBlY3QobW9ja1JlbW92ZUV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjbGljaycsIG1vY2tIYW5kbGVyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+aViOiDveebo+aOp+aVtOWQiCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIOeiuuS/neavj+asoea4rOippuWJjemDveacieato+eiuueahCBQZXJmb3JtYW5jZSBBUEkgbW9ja1xuICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge1xuICAgICAgICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG4gICAgICAgIG1hcms6IGplc3QuZm4oKSxcbiAgICAgICAgbWVhc3VyZTogamVzdC5mbigpLFxuICAgICAgICBnZXRFbnRyaWVzQnlUeXBlOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICAgICAgbWVtb3J5OiB7XG4gICAgICAgICAgdXNlZEpTSGVhcFNpemU6IDEwICogMTAyNCAqIDEwMjQsXG4gICAgICAgICAgdG90YWxKU0hlYXBTaXplOiAyMCAqIDEwMjQgKiAxMDI0LFxuICAgICAgICAgIGpzSGVhcFNpemVMaW1pdDogMTAwICogMTAyNCAqIDEwMjQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGVzdCgn5pWI6IO95oyH5qiZ5pS26ZuGJywgKCkgPT4ge1xuICAgICAgLy8g6amX6K2JIFBlcmZvcm1hbmNlIEFQSSDlj6/nlKjmgKdcbiAgICAgIGV4cGVjdChnbG9iYWwucGVyZm9ybWFuY2Uubm93KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGdsb2JhbC5wZXJmb3JtYW5jZS5tYXJrKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGdsb2JhbC5wZXJmb3JtYW5jZS5tZWFzdXJlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn6Yyv6Kqk6JmV55CG5pW05ZCIJywgKCkgPT4ge1xuICAgIHRlc3QoJ+WFqOWfn+mMr+iqpOiZleeQhicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tFcnJvckhhbmRsZXIgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBtb2NrQWRkRXZlbnRMaXN0ZW5lciA9IGplc3QuZm4oKTtcbiAgICAgIGdsb2JhbC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9IG1vY2tBZGRFdmVudExpc3RlbmVyO1xuXG4gICAgICAvLyDmqKHmk6zpjK/oqqTkuovku7bnm6Pogb3lmahcbiAgICAgIGdsb2JhbC53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBtb2NrRXJyb3JIYW5kbGVyKTtcbiAgICAgIGV4cGVjdChtb2NrQWRkRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Vycm9yJywgbW9ja0Vycm9ySGFuZGxlcik7XG5cbiAgICAgIC8vIOaooeaTrOacquiZleeQhueahCBQcm9taXNlIOaLkue1lVxuICAgICAgZ2xvYmFsLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCBtb2NrRXJyb3JIYW5kbGVyKTtcbiAgICAgIGV4cGVjdChtb2NrQWRkRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICd1bmhhbmRsZWRyZWplY3Rpb24nLFxuICAgICAgICBtb2NrRXJyb3JIYW5kbGVyLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBQSxNQUFNLENBQUNDLE1BQU0sR0FBRztFQUNkQyxnQkFBZ0IsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUMzQkMsbUJBQW1CLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDOUJFLFFBQVEsRUFBRTtJQUFFQyxJQUFJLEVBQUU7RUFBd0IsQ0FBQztFQUMzQ0MsWUFBWSxFQUFFO0lBQ1pDLE9BQU8sRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQk0sT0FBTyxFQUFFUCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCTyxVQUFVLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDckJRLEtBQUssRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDakIsQ0FBQztFQUNEUyxjQUFjLEVBQUU7SUFDZEosT0FBTyxFQUFFTixJQUFJLENBQUNDLEVBQUUsQ0FB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