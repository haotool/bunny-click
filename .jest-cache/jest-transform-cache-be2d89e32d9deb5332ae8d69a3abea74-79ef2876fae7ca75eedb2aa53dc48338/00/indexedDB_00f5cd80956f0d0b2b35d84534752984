957ee6a2c17001d3e94c5075554565b4
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IndexedDBAdapter = void 0;
/**
 * IndexedDB 適配器
 * 提供標準化的 IndexedDB 介面，支援大容量儲存
 * 
 * @author haotool
 * @version 7.2.3
 * @created 2025-08-18T02:39:58+08:00
 */

class IndexedDBAdapter {
  constructor(config = {}) {
    this.config = {
      dbName: 'Bunny ClickDB',
      version: 1,
      storeName: 'gameData',
      ...config
    };
    this.db = null;
    this.isAvailable = this.checkAvailability();
  }

  /**
   * 檢查 IndexedDB 可用性
   */
  checkAvailability() {
    try {
      return 'indexedDB' in window && window.indexedDB !== null && window.indexedDB !== undefined;
    } catch (e) {
      console.warn('⚠️ IndexedDB 不可用:', e);
      return false;
    }
  }

  /**
   * 初始化 IndexedDB
   */
  async init() {
    if (!this.isAvailable) {
      throw new Error('IndexedDB 不可用');
    }
    return new Promise((resolve, reject) => {
      const request = indexedDB.open(this.config.dbName, this.config.version);
      request.onerror = () => {
        reject(new Error(`IndexedDB 開啟失敗: ${request.error?.message}`));
      };
      request.onsuccess = () => {
        this.db = request.result;
        this.log(`✅ IndexedDB 連接成功: ${this.config.dbName}`);

        // 設定錯誤處理
        this.db.onerror = event => {
          console.error('❌ IndexedDB 操作錯誤:', event);
        };
        resolve();
      };
      request.onupgradeneeded = event => {
        const db = event.target.result;
        this.log(`🔄 IndexedDB 升級: v${event.oldVersion} → v${event.newVersion}`);

        // 建立 object store
        if (!db.objectStoreNames.contains(this.config.storeName)) {
          const store = db.createObjectStore(this.config.storeName, {
            keyPath: 'key'
          });

          // 建立索引
          store.createIndex('timestamp', 'timestamp', {
            unique: false
          });
          store.createIndex('expires', 'expires', {
            unique: false
          });
          this.log(`📦 建立 Object Store: ${this.config.storeName}`);
        }
      };
    });
  }

  /**
   * 獲取交易
   */
  getTransaction(mode = 'readonly') {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return this.db.transaction([this.config.storeName], mode);
  }

  /**
   * 獲取 Object Store
   */
  getStore(mode = 'readonly') {
    const transaction = this.getTransaction(mode);
    return transaction.objectStore(this.config.storeName);
  }

  /**
   * 儲存資料
   */
  async setItem(key, value, options = {}) {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readwrite');

        // 建立資料物件
        const data = {
          key,
          value,
          timestamp: Date.now(),
          version: this.config.version
        };

        // 添加過期時間 (如果指定)
        if (options.ttl) {
          data.expires = Date.now() + options.ttl;
        }
        const request = store.put(data);
        request.onsuccess = () => {
          this.log(`💾 IndexedDB 儲存: ${key}`);
          resolve();
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 儲存失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 讀取資料
   */
  async getItem(key) {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readonly');
        const request = store.get(key);
        request.onsuccess = () => {
          const result = request.result;
          if (!result) {
            resolve(null);
            return;
          }

          // 檢查是否過期
          if (result.expires && Date.now() > result.expires) {
            // 異步移除過期資料
            this.removeItem(key).catch(error => {
              this.log(`⚠️ 移除過期資料失敗: ${error.message}`);
            });
            this.log(`⏰ 資料已過期: ${key}`);
            resolve(null);
            return;
          }
          this.log(`📖 IndexedDB 讀取: ${key}`);
          resolve(result.value);
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 讀取失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 移除資料
   */
  async removeItem(key) {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readwrite');
        const request = store.delete(key);
        request.onsuccess = () => {
          this.log(`🗑️ IndexedDB 移除: ${key}`);
          resolve();
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 移除失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 清空所有資料
   */
  async clear() {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readwrite');
        const request = store.clear();
        request.onsuccess = () => {
          this.log('🧹 IndexedDB 清空完成');
          resolve();
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 清空失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 獲取所有鍵名
   */
  async keys() {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readonly');
        const request = store.getAllKeys();
        request.onsuccess = () => {
          resolve(request.result || []);
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 獲取鍵名失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 獲取儲存項目數量
   */
  async size() {
    if (!this.db) {
      throw new Error('IndexedDB 未初始化');
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readonly');
        const request = store.count();
        request.onsuccess = () => {
          resolve(request.result || 0);
        };
        request.onerror = () => {
          reject(new Error(`IndexedDB 計數失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 清理過期資料
   */
  async cleanupExpiredData() {
    if (!this.db) {
      return;
    }
    return new Promise((resolve, reject) => {
      try {
        const store = this.getStore('readwrite');
        const index = store.index('expires');
        const now = Date.now();

        // 查詢所有過期的資料
        const range = IDBKeyRange.upperBound(now);
        const request = index.openCursor(range);
        let deletedCount = 0;
        request.onsuccess = event => {
          const cursor = event.target.result;
          if (cursor) {
            // 刪除過期資料
            const deleteRequest = cursor.delete();
            deleteRequest.onsuccess = () => {
              deletedCount++;
            };
            cursor.continue();
          } else {
            // 遍歷完成
            if (deletedCount > 0) {
              this.log(`🧹 清理過期資料: ${deletedCount} 項目`);
            }
            resolve(deletedCount);
          }
        };
        request.onerror = () => {
          reject(new Error(`清理過期資料失敗: ${request.error?.message}`));
        };
      } catch (error) {
        reject(error);
      }
    });
  }

  /**
   * 獲取使用統計
   */
  async getStats() {
    try {
      const keys = await this.keys();
      const itemCount = keys.length;

      // 估算存儲空間使用 (IndexedDB 沒有直接的大小查詢方法)
      // 這是一個粗略的估算
      let estimatedSize = 0;

      // 取樣部分資料來估算平均大小
      const sampleSize = Math.min(10, itemCount);
      if (sampleSize > 0) {
        const sampleKeys = keys.slice(0, sampleSize);
        let sampleTotalSize = 0;
        for (const key of sampleKeys) {
          const value = await this.getItem(key);
          if (value !== null) {
            const serialized = JSON.stringify(value);
            sampleTotalSize += serialized.length * 2; // UTF-16
          }
        }
        const averageSize = sampleTotalSize / sampleSize;
        estimatedSize = averageSize * itemCount;
      }
      return {
        itemCount,
        estimatedSize,
        formattedSize: this.formatBytes(estimatedSize),
        isEstimated: true
      };
    } catch (error) {
      this.log('⚠️ 獲取統計資訊時發生錯誤:', error);
      return null;
    }
  }

  /**
   * 執行資料庫維護
   */
  async maintenance() {
    try {
      this.log('🔧 開始 IndexedDB 維護...');

      // 清理過期資料
      const deletedCount = await this.cleanupExpiredData();

      // 獲取統計資訊
      const stats = await this.getStats();
      this.log('✅ IndexedDB 維護完成', {
        deletedExpired: deletedCount,
        totalItems: stats?.itemCount || 0,
        estimatedSize: stats?.formattedSize || '未知'
      });
      return {
        deletedExpired: deletedCount,
        stats
      };
    } catch (error) {
      this.log('⚠️ IndexedDB 維護時發生錯誤:', error);
      throw error;
    }
  }

  /**
   * 關閉資料庫連接
   */
  close() {
    if (this.db) {
      this.db.close();
      this.db = null;
      this.log('🔌 IndexedDB 連接已關閉');
    }
  }

  /**
   * 格式化位元組大小
   */
  formatBytes(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
  }

  /**
   * 調試日誌
   */
  log(...args) {
    if (this.config.debug) {
      console.log('🗄️ IndexedDBAdapter:', ...args);
    }
  }
}
exports.IndexedDBAdapter = IndexedDBAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbmRleGVkREJBZGFwdGVyIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJkYk5hbWUiLCJ2ZXJzaW9uIiwic3RvcmVOYW1lIiwiZGIiLCJpc0F2YWlsYWJsZSIsImNoZWNrQXZhaWxhYmlsaXR5Iiwid2luZG93IiwiaW5kZXhlZERCIiwidW5kZWZpbmVkIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiaW5pdCIsIkVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0Iiwib3BlbiIsIm9uZXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJsb2ciLCJldmVudCIsIm9udXBncmFkZW5lZWRlZCIsInRhcmdldCIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwic3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsImdldFRyYW5zYWN0aW9uIiwibW9kZSIsInRyYW5zYWN0aW9uIiwiZ2V0U3RvcmUiLCJvYmplY3RTdG9yZSIsInNldEl0ZW0iLCJrZXkiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJkYXRhIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInR0bCIsImV4cGlyZXMiLCJwdXQiLCJnZXRJdGVtIiwiZ2V0IiwicmVtb3ZlSXRlbSIsImNhdGNoIiwiZGVsZXRlIiwiY2xlYXIiLCJrZXlzIiwiZ2V0QWxsS2V5cyIsInNpemUiLCJjb3VudCIsImNsZWFudXBFeHBpcmVkRGF0YSIsImluZGV4IiwicmFuZ2UiLCJJREJLZXlSYW5nZSIsInVwcGVyQm91bmQiLCJvcGVuQ3Vyc29yIiwiZGVsZXRlZENvdW50IiwiY3Vyc29yIiwiZGVsZXRlUmVxdWVzdCIsImNvbnRpbnVlIiwiZ2V0U3RhdHMiLCJpdGVtQ291bnQiLCJsZW5ndGgiLCJlc3RpbWF0ZWRTaXplIiwic2FtcGxlU2l6ZSIsIk1hdGgiLCJtaW4iLCJzYW1wbGVLZXlzIiwic2xpY2UiLCJzYW1wbGVUb3RhbFNpemUiLCJzZXJpYWxpemVkIiwiSlNPTiIsInN0cmluZ2lmeSIsImF2ZXJhZ2VTaXplIiwiZm9ybWF0dGVkU2l6ZSIsImZvcm1hdEJ5dGVzIiwiaXNFc3RpbWF0ZWQiLCJtYWludGVuYW5jZSIsInN0YXRzIiwiZGVsZXRlZEV4cGlyZWQiLCJ0b3RhbEl0ZW1zIiwiY2xvc2UiLCJieXRlcyIsImsiLCJzaXplcyIsImkiLCJmbG9vciIsInBhcnNlRmxvYXQiLCJwb3ciLCJ0b0ZpeGVkIiwiYXJncyIsImRlYnVnIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImluZGV4ZWREQi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluZGV4ZWREQiDpganphY3lmahcbiAqIOaPkOS+m+aomea6luWMlueahCBJbmRleGVkREIg5LuL6Z2i77yM5pSv5o+05aSn5a656YeP5YSy5a2YXG4gKiBcbiAqIEBhdXRob3IgaGFvdG9vbFxuICogQHZlcnNpb24gNy4yLjNcbiAqIEBjcmVhdGVkIDIwMjUtMDgtMThUMDI6Mzk6NTgrMDg6MDBcbiAqL1xuXG5leHBvcnQgY2xhc3MgSW5kZXhlZERCQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBkYk5hbWU6ICdCdW5ueSBDbGlja0RCJyxcbiAgICAgIHZlcnNpb246IDEsXG4gICAgICBzdG9yZU5hbWU6ICdnYW1lRGF0YScsXG4gICAgICAuLi5jb25maWdcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGIgPSBudWxsO1xuICAgIHRoaXMuaXNBdmFpbGFibGUgPSB0aGlzLmNoZWNrQXZhaWxhYmlsaXR5KCk7XG4gIH1cblxuICAvKipcbiAgICog5qqi5p+lIEluZGV4ZWREQiDlj6/nlKjmgKdcbiAgICovXG4gIGNoZWNrQXZhaWxhYmlsaXR5KCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gJ2luZGV4ZWREQicgaW4gd2luZG93ICYmIFxuICAgICAgICAgICAgIHdpbmRvdy5pbmRleGVkREIgIT09IG51bGwgJiYgXG4gICAgICAgICAgICAgd2luZG93LmluZGV4ZWREQiAhPT0gdW5kZWZpbmVkO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEluZGV4ZWREQiDkuI3lj6/nlKg6JywgZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMliBJbmRleGVkREJcbiAgICovXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgaWYgKCF0aGlzLmlzQXZhaWxhYmxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4ZWREQiDkuI3lj6/nlKgnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKHRoaXMuY29uZmlnLmRiTmFtZSwgdGhpcy5jb25maWcudmVyc2lvbik7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSW5kZXhlZERCIOmWi+WVn+WkseaVlzogJHtyZXF1ZXN0LmVycm9yPy5tZXNzYWdlfWApKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmRiID0gcmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgIHRoaXMubG9nKGDinIUgSW5kZXhlZERCIOmAo+aOpeaIkOWKnzogJHt0aGlzLmNvbmZpZy5kYk5hbWV9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyDoqK3lrprpjK/oqqTomZXnkIZcbiAgICAgICAgdGhpcy5kYi5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEluZGV4ZWREQiDmk43kvZzpjK/oqqQ6JywgZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICB0aGlzLmxvZyhg8J+UhCBJbmRleGVkREIg5Y2H57SaOiB2JHtldmVudC5vbGRWZXJzaW9ufSDihpIgdiR7ZXZlbnQubmV3VmVyc2lvbn1gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOW7uueriyBvYmplY3Qgc3RvcmVcbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHRoaXMuY29uZmlnLnN0b3JlTmFtZSkpIHtcbiAgICAgICAgICBjb25zdCBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMuY29uZmlnLnN0b3JlTmFtZSwgeyBrZXlQYXRoOiAna2V5JyB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDlu7rnq4vntKLlvJVcbiAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleCgndGltZXN0YW1wJywgJ3RpbWVzdGFtcCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgICAgICBzdG9yZS5jcmVhdGVJbmRleCgnZXhwaXJlcycsICdleHBpcmVzJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMubG9nKGDwn5OmIOW7uueriyBPYmplY3QgU3RvcmU6ICR7dGhpcy5jb25maWcuc3RvcmVOYW1lfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOeNsuWPluS6pOaYk1xuICAgKi9cbiAgZ2V0VHJhbnNhY3Rpb24obW9kZSA9ICdyZWFkb25seScpIHtcbiAgICBpZiAoIXRoaXMuZGIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXhlZERCIOacquWIneWni+WMlicpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdGhpcy5kYi50cmFuc2FjdGlvbihbdGhpcy5jb25maWcuc3RvcmVOYW1lXSwgbW9kZSk7XG4gIH1cblxuICAvKipcbiAgICog542y5Y+WIE9iamVjdCBTdG9yZVxuICAgKi9cbiAgZ2V0U3RvcmUobW9kZSA9ICdyZWFkb25seScpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZ2V0VHJhbnNhY3Rpb24obW9kZSk7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMuY29uZmlnLnN0b3JlTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICog5YSy5a2Y6LOH5paZXG4gICAqL1xuICBhc3luYyBzZXRJdGVtKGtleSwgdmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleGVkREIg5pyq5Yid5aeL5YyWJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZSgncmVhZHdyaXRlJyk7XG4gICAgICAgIFxuICAgICAgICAvLyDlu7rnq4vos4fmlpnnianku7ZcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHZlcnNpb246IHRoaXMuY29uZmlnLnZlcnNpb25cbiAgICAgICAgfTtcblxuICAgICAgICAvLyDmt7vliqDpgY7mnJ/mmYLplpMgKOWmguaenOaMh+WumilcbiAgICAgICAgaWYgKG9wdGlvbnMudHRsKSB7XG4gICAgICAgICAgZGF0YS5leHBpcmVzID0gRGF0ZS5ub3coKSArIG9wdGlvbnMudHRsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLnB1dChkYXRhKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZyhg8J+SviBJbmRleGVkREIg5YSy5a2YOiAke2tleX1gKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEluZGV4ZWREQiDlhLLlrZjlpLHmlZc6ICR7cmVxdWVzdC5lcnJvcj8ubWVzc2FnZX1gKSk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog6K6A5Y+W6LOH5paZXG4gICAqL1xuICBhc3luYyBnZXRJdGVtKGtleSkge1xuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleGVkREIg5pyq5Yid5aeL5YyWJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZSgncmVhZG9ubHknKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldChrZXkpO1xuXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcXVlc3QucmVzdWx0O1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIOaqouafpeaYr+WQpumBjuacn1xuICAgICAgICAgIGlmIChyZXN1bHQuZXhwaXJlcyAmJiBEYXRlLm5vdygpID4gcmVzdWx0LmV4cGlyZXMpIHtcbiAgICAgICAgICAgIC8vIOeVsOatpeenu+mZpOmBjuacn+izh+aWmVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGtleSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZyhg4pqg77iPIOenu+mZpOmBjuacn+izh+aWmeWkseaVlzogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxvZyhg4o+wIOizh+aWmeW3sumBjuacnzogJHtrZXl9YCk7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubG9nKGDwn5OWIEluZGV4ZWREQiDoroDlj5Y6ICR7a2V5fWApO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSW5kZXhlZERCIOiugOWPluWkseaVlzogJHtyZXF1ZXN0LmVycm9yPy5tZXNzYWdlfWApKTtcbiAgICAgICAgfTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDnp7vpmaTos4fmlplcbiAgICovXG4gIGFzeW5jIHJlbW92ZUl0ZW0oa2V5KSB7XG4gICAgaWYgKCF0aGlzLmRiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4ZWREQiDmnKrliJ3lp4vljJYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLmdldFN0b3JlKCdyZWFkd3JpdGUnKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKGDwn5eR77iPIEluZGV4ZWREQiDnp7vpmaQ6ICR7a2V5fWApO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSW5kZXhlZERCIOenu+mZpOWkseaVlzogJHtyZXF1ZXN0LmVycm9yPy5tZXNzYWdlfWApKTtcbiAgICAgICAgfTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnqbrmiYDmnInos4fmlplcbiAgICovXG4gIGFzeW5jIGNsZWFyKCkge1xuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleGVkREIg5pyq5Yid5aeL5YyWJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZSgncmVhZHdyaXRlJyk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5jbGVhcigpO1xuXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKCfwn6e5IEluZGV4ZWREQiDmuIXnqbrlrozmiJAnKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEluZGV4ZWREQiDmuIXnqbrlpLHmlZc6ICR7cmVxdWVzdC5lcnJvcj8ubWVzc2FnZX1gKSk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog542y5Y+W5omA5pyJ6Y215ZCNXG4gICAqL1xuICBhc3luYyBrZXlzKCkge1xuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleGVkREIg5pyq5Yid5aeL5YyWJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5nZXRTdG9yZSgncmVhZG9ubHknKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldEFsbEtleXMoKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0IHx8IFtdKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgSW5kZXhlZERCIOeNsuWPlumNteWQjeWkseaVlzogJHtyZXF1ZXN0LmVycm9yPy5tZXNzYWdlfWApKTtcbiAgICAgICAgfTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDnjbLlj5blhLLlrZjpoIXnm67mlbjph49cbiAgICovXG4gIGFzeW5jIHNpemUoKSB7XG4gICAgaWYgKCF0aGlzLmRiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4ZWREQiDmnKrliJ3lp4vljJYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLmdldFN0b3JlKCdyZWFkb25seScpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuY291bnQoKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0IHx8IDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBJbmRleGVkREIg6KiI5pW45aSx5pWXOiAke3JlcXVlc3QuZXJyb3I/Lm1lc3NhZ2V9YCkpO1xuICAgICAgICB9O1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOa4heeQhumBjuacn+izh+aWmVxuICAgKi9cbiAgYXN5bmMgY2xlYW51cEV4cGlyZWREYXRhKCkge1xuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZSA9IHRoaXMuZ2V0U3RvcmUoJ3JlYWR3cml0ZScpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHN0b3JlLmluZGV4KCdleHBpcmVzJyk7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIFxuICAgICAgICAvLyDmn6XoqaLmiYDmnInpgY7mnJ/nmoTos4fmlplcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBJREJLZXlSYW5nZS51cHBlckJvdW5kKG5vdyk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBkZWxldGVkQ291bnQgPSAwO1xuXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAvLyDliKrpmaTpgY7mnJ/os4fmlplcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVJlcXVlc3QgPSBjdXJzb3IuZGVsZXRlKCk7XG4gICAgICAgICAgICBkZWxldGVSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZGVsZXRlZENvdW50Kys7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOmBjeatt+WujOaIkFxuICAgICAgICAgICAgaWYgKGRlbGV0ZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgdGhpcy5sb2coYPCfp7kg5riF55CG6YGO5pyf6LOH5paZOiAke2RlbGV0ZWRDb3VudH0g6aCF55uuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKGRlbGV0ZWRDb3VudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGDmuIXnkIbpgY7mnJ/os4fmlpnlpLHmlZc6ICR7cmVxdWVzdC5lcnJvcj8ubWVzc2FnZX1gKSk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog542y5Y+W5L2/55So57Wx6KiIXG4gICAqL1xuICBhc3luYyBnZXRTdGF0cygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5cyA9IGF3YWl0IHRoaXMua2V5cygpO1xuICAgICAgY29uc3QgaXRlbUNvdW50ID0ga2V5cy5sZW5ndGg7XG4gICAgICBcbiAgICAgIC8vIOS8sOeul+WtmOWEsuepuumWk+S9v+eUqCAoSW5kZXhlZERCIOaykuacieebtOaOpeeahOWkp+Wwj+afpeipouaWueazlSlcbiAgICAgIC8vIOmAmeaYr+S4gOWAi+eyl+eVpeeahOS8sOeul1xuICAgICAgbGV0IGVzdGltYXRlZFNpemUgPSAwO1xuICAgICAgXG4gICAgICAvLyDlj5bmqKPpg6jliIbos4fmlpnkvobkvLDnrpflubPlnYflpKflsI9cbiAgICAgIGNvbnN0IHNhbXBsZVNpemUgPSBNYXRoLm1pbigxMCwgaXRlbUNvdW50KTtcbiAgICAgIGlmIChzYW1wbGVTaXplID4gMCkge1xuICAgICAgICBjb25zdCBzYW1wbGVLZXlzID0ga2V5cy5zbGljZSgwLCBzYW1wbGVTaXplKTtcbiAgICAgICAgbGV0IHNhbXBsZVRvdGFsU2l6ZSA9IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzYW1wbGVLZXlzKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCB0aGlzLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICBzYW1wbGVUb3RhbFNpemUgKz0gc2VyaWFsaXplZC5sZW5ndGggKiAyOyAvLyBVVEYtMTZcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VTaXplID0gc2FtcGxlVG90YWxTaXplIC8gc2FtcGxlU2l6ZTtcbiAgICAgICAgZXN0aW1hdGVkU2l6ZSA9IGF2ZXJhZ2VTaXplICogaXRlbUNvdW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtQ291bnQsXG4gICAgICAgIGVzdGltYXRlZFNpemUsXG4gICAgICAgIGZvcm1hdHRlZFNpemU6IHRoaXMuZm9ybWF0Qnl0ZXMoZXN0aW1hdGVkU2l6ZSksXG4gICAgICAgIGlzRXN0aW1hdGVkOiB0cnVlXG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nKCfimqDvuI8g542y5Y+W57Wx6KiI6LOH6KiK5pmC55m855Sf6Yyv6KqkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDln7fooYzos4fmlpnluqvntq3orbdcbiAgICovXG4gIGFzeW5jIG1haW50ZW5hbmNlKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZygn8J+UpyDplovlp4sgSW5kZXhlZERCIOe2reitty4uLicpO1xuICAgICAgXG4gICAgICAvLyDmuIXnkIbpgY7mnJ/os4fmlplcbiAgICAgIGNvbnN0IGRlbGV0ZWRDb3VudCA9IGF3YWl0IHRoaXMuY2xlYW51cEV4cGlyZWREYXRhKCk7XG4gICAgICBcbiAgICAgIC8vIOeNsuWPlue1seioiOizh+ioilxuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCB0aGlzLmdldFN0YXRzKCk7XG4gICAgICBcbiAgICAgIHRoaXMubG9nKCfinIUgSW5kZXhlZERCIOe2reitt+WujOaIkCcsIHtcbiAgICAgICAgZGVsZXRlZEV4cGlyZWQ6IGRlbGV0ZWRDb3VudCxcbiAgICAgICAgdG90YWxJdGVtczogc3RhdHM/Lml0ZW1Db3VudCB8fCAwLFxuICAgICAgICBlc3RpbWF0ZWRTaXplOiBzdGF0cz8uZm9ybWF0dGVkU2l6ZSB8fCAn5pyq55+lJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbGV0ZWRFeHBpcmVkOiBkZWxldGVkQ291bnQsXG4gICAgICAgIHN0YXRzXG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nKCfimqDvuI8gSW5kZXhlZERCIOe2reitt+aZgueZvOeUn+mMr+iqpDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6Zec6ZaJ6LOH5paZ5bqr6YCj5o6lXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy5kYikge1xuICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuICAgICAgdGhpcy5kYiA9IG51bGw7XG4gICAgICB0aGlzLmxvZygn8J+UjCBJbmRleGVkREIg6YCj5o6l5bey6Zec6ZaJJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOagvOW8j+WMluS9jeWFg+e1hOWkp+Wwj1xuICAgKi9cbiAgZm9ybWF0Qnl0ZXMoYnl0ZXMpIHtcbiAgICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gICAgY29uc3QgayA9IDEwMjQ7XG4gICAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xuICB9XG5cbiAgLyoqXG4gICAqIOiqv+ippuaXpeiqjFxuICAgKi9cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5eE77iPIEluZGV4ZWREQkFkYXB0ZXI6JywgLi4uYXJncyk7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU8sTUFBTUEsZ0JBQWdCLENBQUM7RUFDNUJDLFdBQVdBLENBQUNDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUN2QixJQUFJLENBQUNBLE1BQU0sR0FBRztNQUNaQyxNQUFNLEVBQUUsZUFBZTtNQUN2QkMsT0FBTyxFQUFFLENBQUM7TUFDVkMsU0FBUyxFQUFFLFVBQVU7TUFDckIsR0FBR0g7SUFDTCxD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