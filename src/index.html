<!--
==================================================
專案名稱：兔兔點擊遊戲
作者：阿璋 (haotool.org)
創建時間：2025-08-18
最後更新：2025-08-26
版本：v7.2.3
描述：超萌兔兔點擊遊戲，測試你的反應速度和手指靈活度。採用PWA技術，支援離線遊玩，包含多種遊戲模式和成就系統。
標籤：game, interactive, fun, pwa, responsive, bunny
分類：娛樂類
聯絡方式：threads(@azlife_1224) | haotool.org@gmail.com
==================================================
-->
<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <meta name="theme-color" content="#f6a8d8" />
    <meta name="referrer" content="no-referrer" />
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin" />
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp" />

    <!-- PWA Meta -->
    <meta name="description" content="超萌兔兔點擊遊戲，測試你的反應速度和手指靈活度。採用PWA技術，支援離線遊玩。" />
    <meta name="keywords" content="遊戲,點擊遊戲,PWA,離線遊戲,反應速度,手指靈活度" />
    <meta name="author" content="阿璋 (haotool.org)" />
    
    <!-- Apple PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="兔兔點擊" />
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png" />
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png" />
    <link rel="manifest" href="/manifest.webmanifest" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    
    <title>兔兔點擊遊戲 - Bunny Click Game</title>
  </head>
  <body>
    <div class="app" id="app">
      <!-- 主選單 -->
      <div class="menu-screen" id="menuScreen">
        <div class="brand">
          <div class="brand-icon">
            <svg viewBox="0 0 24 24" width="54" height="54" aria-hidden="true">
              <path
                fill="#f66fb9"
                d="M12 2l2.39 6.26L21 9.27l-5.18 4.87L17.18 21 12 18.26 6.82 21l1.36-6.86L3 9.27l6.61-1.01L12 2z"
              />
            </svg>
          </div>
          <h1 class="brand-title">Bunny Click</h1>
          <div class="brand-subtitle">粉色 × 天藍｜點擊樂趣遊戲</div>
        </div>

        <div class="menu-buttons">
          <button class="menu-btn menu-btn-primary" id="startSingleBtn" aria-label="單人挑戰模式">
            <span class="material-symbols-rounded" aria-hidden="true">person</span>
            單人挑戰模式
          </button>
          <button class="menu-btn menu-btn-primary" id="startDualBtn" aria-label="雙人對戰模式">
            <span class="material-symbols-rounded" aria-hidden="true">groups</span>
            雙人對戰模式
          </button>
          <button class="menu-btn menu-btn-secondary" id="leaderboardBtn" aria-label="排行榜">
            <span class="material-symbols-rounded" aria-hidden="true">leaderboard</span>
            排行榜
          </button>
          <button class="menu-btn menu-btn-secondary" id="settingsBtn" aria-label="遊戲設定">
            <span class="material-symbols-rounded" aria-hidden="true">settings</span>
            遊戲設定
          </button>
          <button class="menu-btn menu-btn-secondary" id="gameInfoBtn" aria-label="遊戲說明">
            <span class="material-symbols-rounded" aria-hidden="true">info</span>
            遊戲說明
          </button>
        </div>
      </div>

      <!-- 遊戲畫面 -->
      <div class="game-screen" id="gameScreen" aria-hidden="true">
        <!-- 單人頂欄 -->
        <div class="game-header" id="gameHeader">
          <div class="game-timer" aria-live="polite">
            <span class="material-symbols-rounded" aria-hidden="true" style="font-size: 22px">timer</span>
            <span id="gameTimer">30</span>
          </div>
          <div class="game-mode" id="gameMode">單人模式</div>
          <div class="header-tps" id="headerTps">
            <div class="hud-tps-label">TPS</div>
            <div class="hud-tps-value" id="headerTpsValue">0</div>
          </div>
          <button class="game-exit" id="gameExit" aria-label="離開遊戲">
            <span class="material-symbols-rounded" aria-hidden="true">close</span>
          </button>
        </div>

        <div class="game-area" id="gameArea">
          <canvas id="fxCanvas" class="fx"></canvas>

          <div class="single-player-area" id="singlePlayerArea" style="display: none">
            <div class="player-name" id="encouragementText">點擊開始你的挑戰！</div>
            <div class="score-display" id="singleScore">0</div>
          </div>

          <div class="dual-player-area" id="dualPlayerArea" style="display: none">
            <div class="divider"></div>

            <div class="player-zone player1" data-player="1">
              <div class="player-hud">
                <div class="hud-timer" id="hudTimerP1">30</div>
                <div class="hud-mode" id="hudModeP1">雙人對戰</div>
                <div class="hud-tps-wrapper" id="hudTpsP1Wrapper">
                  <div class="hud-tps-container" id="hudTpsP1">
                    <div class="hud-tps-label">TPS</div>
                    <div class="hud-tps-value" id="hudTpsP1Value">0</div>
                  </div>
                </div>
              </div>
              <div class="player-name">玩家 1</div>
              <div class="score-display" id="player1Score">0</div>
            </div>

            <div class="player-zone player2" data-player="2">
              <div class="player-hud">
                <div class="hud-timer" id="hudTimerP2">30</div>
                <div class="hud-mode" id="hudModeP2">雙人對戰</div>
                <div class="hud-tps-wrapper" id="hudTpsP2Wrapper">
                  <div class="hud-tps-container" id="hudTpsP2">
                    <div class="hud-tps-label">TPS</div>
                    <div class="hud-tps-value" id="hudTpsP2Value">0</div>
                  </div>
                </div>
              </div>
              <div class="player-name">玩家 2</div>
              <div class="score-display" id="player2Score">0</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 煙火容器 -->
      <div class="firework-container" id="fireworkContainer"></div>

      <!-- 結果模態框 -->
      <div class="modal" id="resultModal" aria-hidden="true" role="dialog">
        <!-- 單人模式結果 -->
        <div class="modal-card result-card single-result" id="singleResult">
          <div class="result-header">
            <div class="trophy-icon">
              <span class="material-symbols-rounded" style="font-size: 48px; color: #ffd700">trophy</span>
            </div>
            <h2 class="result-title" id="resultTitle">遊戲結束！</h2>
            <div class="result-subtitle">恭喜完成挑戰！</div>
          </div>

          <div class="result-stats">
            <div class="stat-item main-score">
              <div class="stat-label">最終得分</div>
              <div class="stat-value" id="resultScore">0</div>
            </div>
            <div class="stat-item tps-stat">
              <div class="stat-label">最高 TPS</div>
              <div class="stat-value tps-value" id="resultTPS">0</div>
            </div>
          </div>

          <div class="achievement-section">
            <div class="achievement-badge" id="achievementBadge">
              <div class="badge-icon">
                <span class="material-symbols-rounded">bolt</span>
              </div>
              <div class="badge-text">點擊大師</div>
            </div>
          </div>

          <div class="result-actions">
            <button class="btn btn-primary result-btn" id="playAgainBtn">
              <span class="material-symbols-rounded">refresh</span>
              再來一局
            </button>
            <button class="btn btn-secondary result-btn" id="backToMenuBtn">
              <span class="material-symbols-rounded">home</span>
              返回主選單
            </button>
          </div>
        </div>

        <!-- 雙人模式結果 -->
        <div class="modal-card dual-result-card" id="dualResult" style="display: none">
          <div class="dual-result-header">
            <div class="winner-crown" id="winnerCrown">
              <span class="material-symbols-rounded" style="font-size: 48px; color: #ffd700">crown</span>
            </div>
            <h2 class="dual-result-title" id="dualResultTitle">對戰結果</h2>
            <div class="dual-result-subtitle" id="dualResultSubtitle">激烈的對決！</div>
          </div>

          <div class="players-comparison">
            <div class="player-result player1-result" id="player1Result">
              <div class="player-medal" id="player1Medal">
                <div class="medal-icon">
                  <span class="material-symbols-rounded" style="font-size: 48px; color: #c0c0c0">military_tech</span>
                </div>
              </div>
              <div class="player-info">
                <div class="player-name">玩家 1</div>
                <div class="player-stats">
                  <div class="player-score">
                    <span class="score-label">得分</span>
                    <span class="score-value" id="player1ResultScore">0</span>
                  </div>
                  <div class="player-tps">
                    <span class="tps-label">最高 TPS</span>
                    <span class="tps-value" id="player1ResultTPS">0</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="vs-divider">
              <div class="vs-text">VS</div>
            </div>

            <div class="player-result player2-result" id="player2Result">
              <div class="player-medal" id="player2Medal">
                <div class="medal-icon">
                  <span class="material-symbols-rounded" style="font-size: 48px; color: #c0c0c0">military_tech</span>
                </div>
              </div>
              <div class="player-info">
                <div class="player-name">玩家 2</div>
                <div class="player-stats">
                  <div class="player-score">
                    <span class="score-label">得分</span>
                    <span class="score-value" id="player2ResultScore">0</span>
                  </div>
                  <div class="player-tps">
                    <span class="tps-label">最高 TPS</span>
                    <span class="tps-value" id="player2ResultTPS">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="dual-achievement-section">
            <div class="achievement-badge" id="dualAchievementBadge">
              <div class="badge-icon">
                <span class="material-symbols-rounded">crown</span>
              </div>
              <div class="badge-text">對戰王者</div>
            </div>
          </div>

          <div class="result-actions">
            <button class="btn btn-primary result-btn" id="dualPlayAgainBtn">
              <span class="material-symbols-rounded">refresh</span>
              再來一局
            </button>
            <button class="btn btn-secondary result-btn" id="dualBackToMenuBtn">
              <span class="material-symbols-rounded">home</span>
              返回主選單
            </button>
          </div>
        </div>
      </div>

      <!-- 排行榜模態框 -->
      <div class="modal" id="leaderboardModal" aria-hidden="true" role="dialog">
        <div class="modal-card" style="max-width: 90vw; width: 500px; text-align: left">
          <h2 class="title-gradient">排行榜</h2>
          <div style="margin-top: 20px; text-align: center; color: var(--text-secondary)">
            <span class="material-symbols-rounded" style="font-size: 48px; color: var(--primary)">construction</span>
            <p style="margin: 16px 0; font-size: 1.1rem">功能開發中...</p>
            <p style="margin: 0; font-size: 0.9rem; opacity: 0.7">敬請期待排行榜系統的推出！</p>
          </div>
          <div style="display: flex; justify-content: center; margin-top: 24px">
            <button class="btn btn-primary" id="closeLeaderboardBtn">返回</button>
          </div>
        </div>
      </div>

      <!-- 遊戲設定模態框 -->
      <div class="modal" id="settingsModal" aria-hidden="true" role="dialog">
        <div class="modal-card" style="max-width: 90vw; width: 560px; text-align: left">
          <h2 class="title-gradient">遊戲設定</h2>
          <div style="margin-top: 12px; display: grid; gap: 10px">
            <div class="settings-row">
              <span>音效開啟</span><input type="checkbox" id="soundEnabled" class="toggle" />
            </div>
            <div class="settings-row">
              <span>震動回饋</span><input type="checkbox" id="vibrationEnabled" class="toggle" />
            </div>
            <div class="settings-row">
              <span>遊戲時間</span>
              <select id="gameDuration" style="padding: 6px 8px; border-radius: 10px; border: 2px solid #7dd3fc; background: white; color: #0369a1; font-weight: 600;">
                <option value="15">15 秒</option>
                <option value="30" selected>30 秒</option>
                <option value="60">60 秒</option>
              </select>
            </div>
            <div class="settings-row">
              <span>水波紋動畫</span><input type="checkbox" id="rippleEnabled" class="toggle" />
            </div>
            <div class="settings-row">
              <span>雷電效果</span><input type="checkbox" id="lightningEnabled" class="toggle" />
            </div>
            <div class="settings-row">
              <span>TPS 顯示</span><input type="checkbox" id="showTps" class="toggle" />
            </div>
          </div>
          
          <!-- 版本資訊 -->
          <div style="margin-top: 20px; padding: 16px; background: linear-gradient(135deg, #fdf2f8, #f0f9ff); border-radius: 12px; border: 1px solid #bae6fd; text-align: center;">
            <div style="font-size: 12px; color: #0369a1; margin-bottom: 4px">當前版本</div>
            <div style="font-size: 16px; font-weight: 600; color: #0284c7; font-family: 'Courier New', monospace;" id="versionDisplay">v7.2.3</div>
          </div>
          
          <div style="display: flex; justify-content: center; margin-top: 18px">
            <button class="btn btn-primary" id="closeSettingsBtn">儲存設定</button>
          </div>
        </div>
      </div>

      <!-- 遊戲說明模態框 -->
      <div class="modal" id="gameInfoModal" aria-hidden="true" role="dialog">
        <div class="modal-card" style="max-width: 90vw; width: 720px; max-height: 90vh; overflow-y: auto; text-align: left;">
          <h2 class="title-gradient">遊戲說明</h2>

          <div style="margin-top: 20px">
            <h3 style="color: #f66fb9; margin-bottom: 16px; font-size: 1.2rem; display: flex; align-items: center; gap: 8px;">
              <span class="material-symbols-rounded">flash_on</span>
              遊戲特色
            </h3>

            <div style="display: grid; gap: 16px; margin-bottom: 24px">
              <div style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(246, 111, 185, 0.05); border-radius: 8px;">
                <span class="material-symbols-rounded" style="color: #52b7ff; font-size: 20px">speed</span>
                <div>
                  <h4 style="margin: 0 0 4px 0; color: #1f2937; font-weight: 600">TPS 精確計算</h4>
                  <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">專業的每秒點擊次數 (TPS) 計算系統，精確測量您的點擊速度表現，助您挑戰極限。</p>
                </div>
              </div>

              <div style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(82, 183, 255, 0.05); border-radius: 8px;">
                <span class="material-symbols-rounded" style="color: #f66fb9; font-size: 20px">offline_bolt</span>
                <div>
                  <h4 style="margin: 0 0 4px 0; color: #1f2937; font-weight: 600">PWA 離線支援</h4>
                  <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">採用先進的 PWA 技術，支援離線遊戲，無需網路連線也能享受流暢的遊戲體驗。</p>
                </div>
              </div>

              <div style="display: flex; align-items: flex-start; gap: 12px; padding: 12px; background: rgba(246, 111, 185, 0.05); border-radius: 8px;">
                <span class="material-symbols-rounded" style="color: #52b7ff; font-size: 20px">palette</span>
                <div>
                  <h4 style="margin: 0 0 4px 0; color: #1f2937; font-weight: 600">美觀設計</h4>
                  <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">獨特的粉色×天藍漸層配色設計，現代化的使用者介面，帶來視覺享受。</p>
                </div>
              </div>
            </div>

            <h3 style="color: #f66fb9; margin-bottom: 16px; font-size: 1.2rem; display: flex; align-items: center; gap: 8px;">
              <span class="material-symbols-rounded">sports_esports</span>
              遊戲模式
            </h3>

            <div style="display: grid; gap: 12px; margin-bottom: 24px">
              <div style="padding: 12px; background: rgba(246, 111, 185, 0.05); border-radius: 8px; border-left: 4px solid #f66fb9;">
                <h4 style="margin: 0 0 8px 0; color: #1f2937; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                  <span class="material-symbols-rounded" style="font-size: 18px">person</span>
                  單人挑戰模式
                </h4>
                <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">測試您的個人點擊極限，挑戰最高分數記錄，享受個人成就感。</p>
              </div>

              <div style="padding: 12px; background: rgba(82, 183, 255, 0.05); border-radius: 8px; border-left: 4px solid #52b7ff;">
                <h4 style="margin: 0 0 8px 0; color: #1f2937; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                  <span class="material-symbols-rounded" style="font-size: 18px">groups</span>
                  雙人對戰模式
                </h4>
                <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">與朋友一起競技，分屏對戰，看誰的手速更快，增進友誼的同時享受競技樂趣。</p>
              </div>
            </div>

            <h3 style="color: #f66fb9; margin-bottom: 16px; font-size: 1.2rem; display: flex; align-items: center; gap: 8px;">
              <span class="material-symbols-rounded">help</span>
              遊戲規則
            </h3>

            <div style="background: rgba(82, 183, 255, 0.05); border-radius: 12px; padding: 16px; margin-bottom: 24px">
              <ol style="margin: 0; padding-left: 20px; color: #4b5563; line-height: 1.6">
                <li>選擇遊戲模式（單人或雙人）</li>
                <li>點擊「開始遊戲」按鈕</li>
                <li>在限定時間內盡可能快速點擊畫面</li>
                <li>觀察即時 TPS 數值，挑戰更高速度</li>
                <li>遊戲結束後查看最終分數和成就</li>
              </ol>
            </div>

            <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, #fdf2f8, #f0f9ff); border-radius: 12px; border: 1px solid #bae6fd">
              <p style="margin: 0; color: #6b7280; font-size: 0.9rem">🎯 準備好挑戰您的手速極限了嗎？</p>
            </div>
          </div>

          <div style="display: flex; justify-content: center; margin-top: 24px">
            <button class="btn btn-primary" id="closeGameInfoBtn">開始遊戲</button>
          </div>
        </div>
      </div>

      <!-- PWA 安裝提示 -->
      <div id="pwa-install-banner" class="pwa-banner hidden">
        <div class="pwa-content">
          <span>📱 安裝應用程式以獲得最佳體驗</span>
          <button id="pwa-install-btn" class="install-btn">安裝</button>
          <button id="pwa-close-btn" class="close-btn">×</button>
        </div>
      </div>
    </div>

    <!-- 應用程式入口 -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>